using NUnit.Framework;

using CSharpCAD;

namespace CSharpCADTests;

[TestFixture]
public class EllipsoidTests
{
    [SetUp]
    public void Setup()
    {
    }

    [Test]
    public void TestEllipsoidDefaults()
    {
        var obs = Ellipsoid(new Opts());
        Assert.DoesNotThrow(() => obs.Validate());
        var pts = obs.ToPoints();

        Assert.AreEqual(pts.Count, 512);
    }

    [Test]
    public void TestEllipsoidOptions()
    {
        // test radius
        var obs = Ellipsoid(new Opts { { "radius", (3, 5, 7) }, { "segments", 12 } });
        Assert.DoesNotThrow(() => obs.Validate());
        var pts = obs.ToPoints();
        var exp = new List<List<Vec3>> {
          new List<Vec3> {new Vec3(3, 0, 0), new Vec3(2.598076211353316, -2.4999999999999996, 0),
            new Vec3(2.25, -2.1650635094610964, -3.4999999999999996), new Vec3(2.598076211353316, 0, -3.4999999999999996)},
          new List<Vec3> {new Vec3(2.598076211353316, 0, 3.4999999999999996), new Vec3(2.25, -2.1650635094610964, 3.4999999999999996),
            new Vec3(2.598076211353316, -2.4999999999999996, 0), new Vec3(3, 0, 0)},
          new List<Vec3> {new Vec3(2.598076211353316, 0, -3.4999999999999996), new Vec3(2.25, -2.1650635094610964, -3.4999999999999996),
            new Vec3(1.2990381056766582, -1.25, -6.06217782649107), new Vec3(1.5000000000000004, 0, -6.06217782649107)},
          new List<Vec3> {new Vec3(1.5000000000000004, 0, 6.06217782649107), new Vec3(1.2990381056766582, -1.25, 6.06217782649107),
            new Vec3(2.25, -2.1650635094610964, 3.4999999999999996), new Vec3(2.598076211353316, 0, 3.4999999999999996)},
          new List<Vec3> {new Vec3(1.5000000000000004, 0, -6.06217782649107), new Vec3(1.2990381056766582, -1.25, -6.06217782649107), new Vec3(1.8369701987210297e-16, 0, -7)},
          new List<Vec3> {new Vec3(1.8369701987210297e-16, 0, 7), new Vec3(1.2990381056766582, -1.25, 6.06217782649107), new Vec3(1.5000000000000004, 0, 6.06217782649107)},
          new List<Vec3> {new Vec3(2.598076211353316, -2.4999999999999996, 0), new Vec3(1.5000000000000004, -4.330127018922193, 0),
            new Vec3(1.2990381056766584, -3.75, -3.4999999999999996), new Vec3(2.25, -2.1650635094610964, -3.4999999999999996)},
          new List<Vec3> {new Vec3(2.25, -2.1650635094610964, 3.4999999999999996), new Vec3(1.2990381056766584, -3.75, 3.4999999999999996),
            new Vec3(1.5000000000000004, -4.330127018922193, 0), new Vec3(2.598076211353316, -2.4999999999999996, 0)},
          new List<Vec3> {new Vec3(2.25, -2.1650635094610964, -3.4999999999999996), new Vec3(1.2990381056766584, -3.75, -3.4999999999999996),
            new Vec3(0.7500000000000004, -2.165063509461097, -6.06217782649107), new Vec3(1.2990381056766582, -1.25, -6.06217782649107)},
          new List<Vec3> {new Vec3(1.2990381056766582, -1.25, 6.06217782649107), new Vec3(0.7500000000000004, -2.165063509461097, 6.06217782649107),
            new Vec3(1.2990381056766584, -3.75, 3.4999999999999996), new Vec3(2.25, -2.1650635094610964, 3.4999999999999996)},
          new List<Vec3> {new Vec3(1.2990381056766582, -1.25, -6.06217782649107), new Vec3(0.7500000000000004, -2.165063509461097, -6.06217782649107), new Vec3(1.5908628580873605e-16, -1.5308084989341913e-16, -7)},
          new List<Vec3> {new Vec3(1.5908628580873605e-16, -1.5308084989341913e-16, 7), new Vec3(0.7500000000000004, -2.165063509461097, 6.06217782649107), new Vec3(1.2990381056766582, -1.25, 6.06217782649107)},
          new List<Vec3> {new Vec3(1.5000000000000004, -4.330127018922193, 0), new Vec3(1.8369701987210297e-16, -5, 0),
            new Vec3(1.5908628580873602e-16, -4.330127018922194, -3.4999999999999996), new Vec3(1.2990381056766584, -3.75, -3.4999999999999996)},
          new List<Vec3> {new Vec3(1.2990381056766584, -3.75, 3.4999999999999996), new Vec3(1.5908628580873602e-16, -4.330127018922194, 3.4999999999999996),
            new Vec3(1.8369701987210297e-16, -5, 0), new Vec3(1.5000000000000004, -4.330127018922193, 0)},
          new List<Vec3> {new Vec3(1.2990381056766584, -3.75, -3.4999999999999996), new Vec3(1.5908628580873602e-16, -4.330127018922194, -3.4999999999999996),
            new Vec3(9.184850993605151e-17, -2.5000000000000004, -6.06217782649107), new Vec3(0.7500000000000004, -2.165063509461097, -6.06217782649107)},
          new List<Vec3> {new Vec3(0.7500000000000004, -2.165063509461097, 6.06217782649107), new Vec3(9.184850993605151e-17, -2.5000000000000004, 6.06217782649107),
            new Vec3(1.5908628580873602e-16, -4.330127018922194, 3.4999999999999996), new Vec3(1.2990381056766584, -3.75, 3.4999999999999996)},
          new List<Vec3> {new Vec3(0.7500000000000004, -2.165063509461097, -6.06217782649107), new Vec3(9.184850993605151e-17, -2.5000000000000004, -6.06217782649107), new Vec3(9.184850993605152e-17, -2.651438096812267e-16, -7)},
          new List<Vec3> {new Vec3(9.184850993605152e-17, -2.651438096812267e-16, 7), new Vec3(9.184850993605151e-17, -2.5000000000000004, 6.06217782649107), new Vec3(0.7500000000000004, -2.165063509461097, 6.06217782649107)},
          new List<Vec3> {new Vec3(1.8369701987210297e-16, -5, 0), new Vec3(-1.4999999999999993, -4.330127018922194, 0),
            new Vec3(-1.2990381056766576, -3.7500000000000004, -3.4999999999999996), new Vec3(1.5908628580873602e-16, -4.330127018922194, -3.4999999999999996)},
          new List<Vec3> {new Vec3(1.5908628580873602e-16, -4.330127018922194, 3.4999999999999996), new Vec3(-1.2990381056766576, -3.7500000000000004, 3.4999999999999996),
            new Vec3(-1.4999999999999993, -4.330127018922194, 0), new Vec3(1.8369701987210297e-16, -5, 0)},
          new List<Vec3> {new Vec3(1.5908628580873602e-16, -4.330127018922194, -3.4999999999999996), new Vec3(-1.2990381056766576, -3.7500000000000004, -3.4999999999999996),
            new Vec3(-0.7499999999999998, -2.1650635094610973, -6.06217782649107), new Vec3(9.184850993605151e-17, -2.5000000000000004, -6.06217782649107)},
          new List<Vec3> {new Vec3(9.184850993605151e-17, -2.5000000000000004, 6.06217782649107), new Vec3(-0.7499999999999998, -2.1650635094610973, 6.06217782649107),
            new Vec3(-1.2990381056766576, -3.7500000000000004, 3.4999999999999996), new Vec3(1.5908628580873602e-16, -4.330127018922194, 3.4999999999999996)},
          new List<Vec3> {new Vec3(9.184850993605151e-17, -2.5000000000000004, -6.06217782649107), new Vec3(-0.7499999999999998, -2.1650635094610973, -6.06217782649107), new Vec3(1.1248198369963932e-32, -3.061616997868383e-16, -7)},
          new List<Vec3> {new Vec3(1.1248198369963932e-32, -3.061616997868383e-16, 7), new Vec3(-0.7499999999999998, -2.1650635094610973, 6.06217782649107), new Vec3(9.184850993605151e-17, -2.5000000000000004, 6.06217782649107)},
          new List<Vec3> {new Vec3(-1.4999999999999993, -4.330127018922194, 0), new Vec3(-2.598076211353316, -2.4999999999999996, 0),
            new Vec3(-2.25, -2.1650635094610964, -3.4999999999999996), new Vec3(-1.2990381056766576, -3.7500000000000004, -3.4999999999999996)},
          new List<Vec3> {new Vec3(-1.2990381056766576, -3.7500000000000004, 3.4999999999999996), new Vec3(-2.25, -2.1650635094610964, 3.4999999999999996),
            new Vec3(-2.598076211353316, -2.4999999999999996, 0), new Vec3(-1.4999999999999993, -4.330127018922194, 0)},
          new List<Vec3> {new Vec3(-1.2990381056766576, -3.7500000000000004, -3.4999999999999996), new Vec3(-2.25, -2.1650635094610964, -3.4999999999999996),
            new Vec3(-1.2990381056766582, -1.25, -6.06217782649107), new Vec3(-0.7499999999999998, -2.1650635094610973, -6.06217782649107)},
          new List<Vec3> {new Vec3(-0.7499999999999998, -2.1650635094610973, 6.06217782649107), new Vec3(-1.2990381056766582, -1.25, 6.06217782649107),
            new Vec3(-2.25, -2.1650635094610964, 3.4999999999999996), new Vec3(-1.2990381056766576, -3.7500000000000004, 3.4999999999999996)},
          new List<Vec3> {new Vec3(-0.7499999999999998, -2.1650635094610973, -6.06217782649107), new Vec3(-1.2990381056766582, -1.25, -6.06217782649107), new Vec3(-9.184850993605145e-17, -2.6514380968122674e-16, -7)},
          new List<Vec3> {new Vec3(-9.184850993605145e-17, -2.6514380968122674e-16, 7), new Vec3(-1.2990381056766582, -1.25, 6.06217782649107), new Vec3(-0.7499999999999998, -2.1650635094610973, 6.06217782649107)},
          new List<Vec3> {new Vec3(-2.598076211353316, -2.4999999999999996, 0), new Vec3(-3, -6.123233995736766e-16, 0),
            new Vec3(-2.598076211353316, -5.302876193624535e-16, -3.4999999999999996), new Vec3(-2.25, -2.1650635094610964, -3.4999999999999996)},
          new List<Vec3> {new Vec3(-2.25, -2.1650635094610964, 3.4999999999999996), new Vec3(-2.598076211353316, -5.302876193624535e-16, 3.4999999999999996),
            new Vec3(-3, -6.123233995736766e-16, 0), new Vec3(-2.598076211353316, -2.4999999999999996, 0)},
          new List<Vec3> {new Vec3(-2.25, -2.1650635094610964, -3.4999999999999996), new Vec3(-2.598076211353316, -5.302876193624535e-16, -3.4999999999999996),
            new Vec3(-1.5000000000000004, -3.0616169978683836e-16, -6.06217782649107), new Vec3(-1.2990381056766582, -1.25, -6.06217782649107)},
          new List<Vec3> {new Vec3(-1.2990381056766582, -1.25, 6.06217782649107), new Vec3(-1.5000000000000004, -3.0616169978683836e-16, 6.06217782649107),
            new Vec3(-2.598076211353316, -5.302876193624535e-16, 3.4999999999999996), new Vec3(-2.25, -2.1650635094610964, 3.4999999999999996)},
          new List<Vec3> {new Vec3(-1.2990381056766582, -1.25, -6.06217782649107), new Vec3(-1.5000000000000004, -3.0616169978683836e-16, -6.06217782649107), new Vec3(-1.5908628580873605e-16, -1.5308084989341913e-16, -7)},
          new List<Vec3> {new Vec3(-1.5908628580873605e-16, -1.5308084989341913e-16, 7), new Vec3(-1.5000000000000004, -3.0616169978683836e-16, 6.06217782649107), new Vec3(-1.2990381056766582, -1.25, 6.06217782649107)},
          new List<Vec3> {new Vec3(-3, -6.123233995736766e-16, 0), new Vec3(-2.5980762113533165, 2.4999999999999987, 0),
            new Vec3(-2.2500000000000004, 2.1650635094610955, -3.4999999999999996), new Vec3(-2.598076211353316, -5.302876193624535e-16, -3.4999999999999996)},
          new List<Vec3> {new Vec3(-2.598076211353316, -5.302876193624535e-16, 3.4999999999999996), new Vec3(-2.2500000000000004, 2.1650635094610955, 3.4999999999999996),
            new Vec3(-2.5980762113533165, 2.4999999999999987, 0), new Vec3(-3, -6.123233995736766e-16, 0)},
          new List<Vec3> {new Vec3(-2.598076211353316, -5.302876193624535e-16, -3.4999999999999996), new Vec3(-2.2500000000000004, 2.1650635094610955, -3.4999999999999996),
            new Vec3(-1.2990381056766584, 1.2499999999999996, -6.06217782649107), new Vec3(-1.5000000000000004, -3.0616169978683836e-16, -6.06217782649107)},
          new List<Vec3> {new Vec3(-1.5000000000000004, -3.0616169978683836e-16, 6.06217782649107), new Vec3(-1.2990381056766584, 1.2499999999999996, 6.06217782649107),
            new Vec3(-2.2500000000000004, 2.1650635094610955, 3.4999999999999996), new Vec3(-2.598076211353316, -5.302876193624535e-16, 3.4999999999999996)},
          new List<Vec3> {new Vec3(-1.5000000000000004, -3.0616169978683836e-16, -6.06217782649107), new Vec3(-1.2990381056766584, 1.2499999999999996, -6.06217782649107), new Vec3(-1.8369701987210297e-16, -3.7493994566546446e-32, -7)},
          new List<Vec3> {new Vec3(-1.8369701987210297e-16, -3.7493994566546446e-32, 7), new Vec3(-1.2990381056766584, 1.2499999999999996, 6.06217782649107), new Vec3(-1.5000000000000004, -3.0616169978683836e-16, 6.06217782649107)},
          new List<Vec3> {new Vec3(-2.5980762113533165, 2.4999999999999987, 0), new Vec3(-1.5000000000000013, 4.330127018922193, 0),
            new Vec3(-1.2990381056766591, 3.75, -3.4999999999999996), new Vec3(-2.2500000000000004, 2.1650635094610955, -3.4999999999999996)},
          new List<Vec3> {new Vec3(-2.2500000000000004, 2.1650635094610955, 3.4999999999999996), new Vec3(-1.2990381056766591, 3.75, 3.4999999999999996),
            new Vec3(-1.5000000000000013, 4.330127018922193, 0), new Vec3(-2.5980762113533165, 2.4999999999999987, 0)},
          new List<Vec3> {new Vec3(-2.2500000000000004, 2.1650635094610955, -3.4999999999999996), new Vec3(-1.2990381056766591, 3.75, -3.4999999999999996),
            new Vec3(-0.7500000000000009, 2.165063509461097, -6.06217782649107), new Vec3(-1.2990381056766584, 1.2499999999999996, -6.06217782649107)},
          new List<Vec3> {new Vec3(-1.2990381056766584, 1.2499999999999996, 6.06217782649107), new Vec3(-0.7500000000000009, 2.165063509461097, 6.06217782649107),
            new Vec3(-1.2990381056766591, 3.75, 3.4999999999999996), new Vec3(-2.2500000000000004, 2.1650635094610955, 3.4999999999999996)},
          new List<Vec3> {new Vec3(-1.2990381056766584, 1.2499999999999996, -6.06217782649107), new Vec3(-0.7500000000000009, 2.165063509461097, -6.06217782649107), new Vec3(-1.5908628580873607e-16, 1.5308084989341906e-16, -7)},
          new List<Vec3> {new Vec3(-1.5908628580873607e-16, 1.5308084989341906e-16, 7), new Vec3(-0.7500000000000009, 2.165063509461097, 6.06217782649107), new Vec3(-1.2990381056766584, 1.2499999999999996, 6.06217782649107)},
          new List<Vec3> {new Vec3(-1.5000000000000013, 4.330127018922193, 0), new Vec3(-5.51091059616309e-16, 5, 0),
            new Vec3(-4.772588574262082e-16, 4.330127018922194, -3.4999999999999996), new Vec3(-1.2990381056766591, 3.75, -3.4999999999999996)},
          new List<Vec3> {new Vec3(-1.2990381056766591, 3.75, 3.4999999999999996), new Vec3(-4.772588574262082e-16, 4.330127018922194, 3.4999999999999996),
            new Vec3(-5.51091059616309e-16, 5, 0), new Vec3(-1.5000000000000013, 4.330127018922193, 0)},
          new List<Vec3> {new Vec3(-1.2990381056766591, 3.75, -3.4999999999999996), new Vec3(-4.772588574262082e-16, 4.330127018922194, -3.4999999999999996),
            new Vec3(-2.7554552980815453e-16, 2.5000000000000004, -6.06217782649107), new Vec3(-0.7500000000000009, 2.165063509461097, -6.06217782649107)},
          new List<Vec3> {new Vec3(-0.7500000000000009, 2.165063509461097, 6.06217782649107), new Vec3(-2.7554552980815453e-16, 2.5000000000000004, 6.06217782649107),
            new Vec3(-4.772588574262082e-16, 4.330127018922194, 3.4999999999999996), new Vec3(-1.2990381056766591, 3.75, 3.4999999999999996)},
          new List<Vec3> {new Vec3(-0.7500000000000009, 2.165063509461097, -6.06217782649107), new Vec3(-2.7554552980815453e-16, 2.5000000000000004, -6.06217782649107), new Vec3(-9.184850993605157e-17, 2.651438096812267e-16, -7)},
          new List<Vec3> {new Vec3(-9.184850993605157e-17, 2.651438096812267e-16, 7), new Vec3(-2.7554552980815453e-16, 2.5000000000000004, 6.06217782649107), new Vec3(-0.7500000000000009, 2.165063509461097, 6.06217782649107)},
          new List<Vec3> {new Vec3(-5.51091059616309e-16, 5, 0), new Vec3(1.5000000000000004, 4.330127018922193, 0),
            new Vec3(1.2990381056766584, 3.75, -3.4999999999999996), new Vec3(-4.772588574262082e-16, 4.330127018922194, -3.4999999999999996)},
          new List<Vec3> {new Vec3(-4.772588574262082e-16, 4.330127018922194, 3.4999999999999996), new Vec3(1.2990381056766584, 3.75, 3.4999999999999996),
            new Vec3(1.5000000000000004, 4.330127018922193, 0), new Vec3(-5.51091059616309e-16, 5, 0)},
          new List<Vec3> {new Vec3(-4.772588574262082e-16, 4.330127018922194, -3.4999999999999996), new Vec3(1.2990381056766584, 3.75, -3.4999999999999996),
            new Vec3(0.7500000000000004, 2.165063509461097, -6.06217782649107), new Vec3(-2.7554552980815453e-16, 2.5000000000000004, -6.06217782649107)},
          new List<Vec3> {new Vec3(-2.7554552980815453e-16, 2.5000000000000004, 6.06217782649107), new Vec3(0.7500000000000004, 2.165063509461097, 6.06217782649107),
            new Vec3(1.2990381056766584, 3.75, 3.4999999999999996), new Vec3(-4.772588574262082e-16, 4.330127018922194, 3.4999999999999996)},
          new List<Vec3> {new Vec3(-2.7554552980815453e-16, 2.5000000000000004, -6.06217782649107), new Vec3(0.7500000000000004, 2.165063509461097, -6.06217782649107), new Vec3(-3.3744595109891796e-32, 3.061616997868383e-16, -7)},
          new List<Vec3> {new Vec3(-3.3744595109891796e-32, 3.061616997868383e-16, 7), new Vec3(0.7500000000000004, 2.165063509461097, 6.06217782649107), new Vec3(-2.7554552980815453e-16, 2.5000000000000004, 6.06217782649107)},
          new List<Vec3> {new Vec3(1.5000000000000004, 4.330127018922193, 0), new Vec3(2.598076211353315, 2.500000000000002, 0),
            new Vec3(2.2499999999999996, 2.1650635094610986, -3.4999999999999996), new Vec3(1.2990381056766584, 3.75, -3.4999999999999996)},
          new List<Vec3> {new Vec3(1.2990381056766584, 3.75, 3.4999999999999996), new Vec3(2.2499999999999996, 2.1650635094610986, 3.4999999999999996),
            new Vec3(2.598076211353315, 2.500000000000002, 0), new Vec3(1.5000000000000004, 4.330127018922193, 0)},
          new List<Vec3> {new Vec3(1.2990381056766584, 3.75, -3.4999999999999996), new Vec3(2.2499999999999996, 2.1650635094610986, -3.4999999999999996),
            new Vec3(1.2990381056766578, 1.2500000000000013, -6.06217782649107), new Vec3(0.7500000000000004, 2.165063509461097, -6.06217782649107)},
          new List<Vec3> {new Vec3(0.7500000000000004, 2.165063509461097, 6.06217782649107), new Vec3(1.2990381056766578, 1.2500000000000013, 6.06217782649107),
            new Vec3(2.2499999999999996, 2.1650635094610986, 3.4999999999999996), new Vec3(1.2990381056766584, 3.75, 3.4999999999999996)},
          new List<Vec3> {new Vec3(0.7500000000000004, 2.165063509461097, -6.06217782649107), new Vec3(1.2990381056766578, 1.2500000000000013, -6.06217782649107), new Vec3(9.184850993605152e-17, 2.651438096812267e-16, -7)},
          new List<Vec3> {new Vec3(9.184850993605152e-17, 2.651438096812267e-16, 7), new Vec3(1.2990381056766578, 1.2500000000000013, 6.06217782649107), new Vec3(0.7500000000000004, 2.165063509461097, 6.06217782649107)},
          new List<Vec3> {new Vec3(2.598076211353315, 2.500000000000002, 0), new Vec3(3, 1.2246467991473533e-15, 0),
            new Vec3(2.598076211353316, 1.060575238724907e-15, -3.4999999999999996), new Vec3(2.2499999999999996, 2.1650635094610986, -3.4999999999999996)},
          new List<Vec3> {new Vec3(2.2499999999999996, 2.1650635094610986, 3.4999999999999996), new Vec3(2.598076211353316, 1.060575238724907e-15, 3.4999999999999996),
            new Vec3(3, 1.2246467991473533e-15, 0), new Vec3(2.598076211353315, 2.500000000000002, 0)},
          new List<Vec3> {new Vec3(2.2499999999999996, 2.1650635094610986, -3.4999999999999996), new Vec3(2.598076211353316, 1.060575238724907e-15, -3.4999999999999996),
            new Vec3(1.5000000000000004, 6.123233995736767e-16, -6.06217782649107), new Vec3(1.2990381056766578, 1.2500000000000013, -6.06217782649107)},
          new List<Vec3> {new Vec3(1.2990381056766578, 1.2500000000000013, 6.06217782649107), new Vec3(1.5000000000000004, 6.123233995736767e-16, 6.06217782649107),
            new Vec3(2.598076211353316, 1.060575238724907e-15, 3.4999999999999996), new Vec3(2.2499999999999996, 2.1650635094610986, 3.4999999999999996)},
          new List<Vec3> {new Vec3(1.2990381056766578, 1.2500000000000013, -6.06217782649107), new Vec3(1.5000000000000004, 6.123233995736767e-16, -6.06217782649107), new Vec3(1.5908628580873598e-16, 1.5308084989341928e-16, -7)},
          new List<Vec3> {new Vec3(1.5908628580873598e-16, 1.5308084989341928e-16, 7), new Vec3(1.5000000000000004, 6.123233995736767e-16, 6.06217782649107), new Vec3(1.2990381056766578, 1.2500000000000013, 6.06217782649107)}
        };
        Assert.AreEqual(pts.Count, 72);
        Assert.IsTrue(Helpers.CompareListOfListsNEVec3(pts, exp));

        // test segments
        obs = Ellipsoid(new Opts { { "segments", 8 } });
        Assert.DoesNotThrow(() => obs.Validate());
        pts = obs.ToPoints();
        exp = new List<List<Vec3>> { };
        Assert.AreEqual(pts.Count, 32);

        obs = Ellipsoid(new Opts { { "center", (-3, 5, 7) }, { "segments", 8 } });
        Assert.DoesNotThrow(() => obs.Validate());
        pts = obs.ToPoints();
        exp = new List<List<Vec3>> {
          new List<Vec3> {new Vec3(-2, 5, 7), new Vec3(-2.2928932188134525, 4.292893218813452, 7),
            new Vec3(-2.5, 4.5, 6.292893218813452), new Vec3(-2.2928932188134525, 5, 6.292893218813452)},
          new List<Vec3> {new Vec3(-2.2928932188134525, 5, 7.707106781186548), new Vec3(-2.5, 4.5, 7.707106781186548),
            new Vec3(-2.2928932188134525, 4.292893218813452, 7), new Vec3(-2, 5, 7)},
          new List<Vec3> {new Vec3(-2.2928932188134525, 5, 6.292893218813452), new Vec3(-2.5, 4.5, 6.292893218813452), new Vec3(-3, 5, 6)},
          new List<Vec3> {new Vec3(-3, 5, 8), new Vec3(-2.5, 4.5, 7.707106781186548), new Vec3(-2.2928932188134525, 5, 7.707106781186548)},
          new List<Vec3> {new Vec3(-2.2928932188134525, 4.292893218813452, 7), new Vec3(-3, 4, 7),
            new Vec3(-3, 4.292893218813452, 6.292893218813452), new Vec3(-2.5, 4.5, 6.292893218813452)},
          new List<Vec3> {new Vec3(-2.5, 4.5, 7.707106781186548), new Vec3(-3, 4.292893218813452, 7.707106781186548),
            new Vec3(-3, 4, 7), new Vec3(-2.2928932188134525, 4.292893218813452, 7)},
          new List<Vec3> {new Vec3(-2.5, 4.5, 6.292893218813452), new Vec3(-3, 4.292893218813452, 6.292893218813452), new Vec3(-3, 5, 6)},
          new List<Vec3> {new Vec3(-3, 5, 8), new Vec3(-3, 4.292893218813452, 7.707106781186548), new Vec3(-2.5, 4.5, 7.707106781186548)},
          new List<Vec3> {new Vec3(-3, 4, 7), new Vec3(-3.7071067811865475, 4.292893218813452, 7),
            new Vec3(-3.5, 4.5, 6.292893218813452), new Vec3(-3, 4.292893218813452, 6.292893218813452)},
          new List<Vec3> {new Vec3(-3, 4.292893218813452, 7.707106781186548), new Vec3(-3.5, 4.5, 7.707106781186548),
            new Vec3(-3.7071067811865475, 4.292893218813452, 7), new Vec3(-3, 4, 7)},
          new List<Vec3> {new Vec3(-3, 4.292893218813452, 6.292893218813452), new Vec3(-3.5, 4.5, 6.292893218813452), new Vec3(-3, 5, 6)},
          new List<Vec3> {new Vec3(-3, 5, 8), new Vec3(-3.5, 4.5, 7.707106781186548), new Vec3(-3, 4.292893218813452, 7.707106781186548)},
          new List<Vec3> {new Vec3(-3.7071067811865475, 4.292893218813452, 7), new Vec3(-4, 5, 7),
            new Vec3(-3.7071067811865475, 5, 6.292893218813452), new Vec3(-3.5, 4.5, 6.292893218813452)},
          new List<Vec3> {new Vec3(-3.5, 4.5, 7.707106781186548), new Vec3(-3.7071067811865475, 5, 7.707106781186548),
            new Vec3(-4, 5, 7), new Vec3(-3.7071067811865475, 4.292893218813452, 7)},
          new List<Vec3> {new Vec3(-3.5, 4.5, 6.292893218813452), new Vec3(-3.7071067811865475, 5, 6.292893218813452), new Vec3(-3, 5, 6)},
          new List<Vec3> {new Vec3(-3, 5, 8), new Vec3(-3.7071067811865475, 5, 7.707106781186548), new Vec3(-3.5, 4.5, 7.707106781186548)},
          new List<Vec3> {new Vec3(-4, 5, 7), new Vec3(-3.707106781186548, 5.707106781186548, 7),
            new Vec3(-3.5, 5.5, 6.292893218813452), new Vec3(-3.7071067811865475, 5, 6.292893218813452)},
          new List<Vec3> {new Vec3(-3.7071067811865475, 5, 7.707106781186548), new Vec3(-3.5, 5.5, 7.707106781186548),
            new Vec3(-3.707106781186548, 5.707106781186548, 7), new Vec3(-4, 5, 7)},
          new List<Vec3> {new Vec3(-3.7071067811865475, 5, 6.292893218813452), new Vec3(-3.5, 5.5, 6.292893218813452), new Vec3(-3, 5, 6)},
          new List<Vec3> {new Vec3(-3, 5, 8), new Vec3(-3.5, 5.5, 7.707106781186548), new Vec3(-3.7071067811865475, 5, 7.707106781186548)},
          new List<Vec3> {new Vec3(-3.707106781186548, 5.707106781186548, 7), new Vec3(-3, 6, 7),
            new Vec3(-3, 5.707106781186548, 6.292893218813452), new Vec3(-3.5, 5.5, 6.292893218813452)},
          new List<Vec3> {new Vec3(-3.5, 5.5, 7.707106781186548), new Vec3(-3, 5.707106781186548, 7.707106781186548),
            new Vec3(-3, 6, 7), new Vec3(-3.707106781186548, 5.707106781186548, 7)},
          new List<Vec3> {new Vec3(-3.5, 5.5, 6.292893218813452), new Vec3(-3, 5.707106781186548, 6.292893218813452), new Vec3(-3, 5, 6)},
          new List<Vec3> {new Vec3(-3, 5, 8), new Vec3(-3, 5.707106781186548, 7.707106781186548), new Vec3(-3.5, 5.5, 7.707106781186548)},
          new List<Vec3> {new Vec3(-3, 6, 7), new Vec3(-2.2928932188134525, 5.707106781186548, 7),
            new Vec3(-2.5, 5.5, 6.292893218813452), new Vec3(-3, 5.707106781186548, 6.292893218813452)},
          new List<Vec3> {new Vec3(-3, 5.707106781186548, 7.707106781186548), new Vec3(-2.5, 5.5, 7.707106781186548),
            new Vec3(-2.2928932188134525, 5.707106781186548, 7), new Vec3(-3, 6, 7)},
          new List<Vec3> {new Vec3(-3, 5.707106781186548, 6.292893218813452), new Vec3(-2.5, 5.5, 6.292893218813452), new Vec3(-3, 5, 6)},
          new List<Vec3> {new Vec3(-3, 5, 8), new Vec3(-2.5, 5.5, 7.707106781186548), new Vec3(-3, 5.707106781186548, 7.707106781186548)},
          new List<Vec3> {new Vec3(-2.2928932188134525, 5.707106781186548, 7), new Vec3(-2, 5, 7),
            new Vec3(-2.2928932188134525, 5, 6.292893218813452), new Vec3(-2.5, 5.5, 6.292893218813452)},
          new List<Vec3> {new Vec3(-2.5, 5.5, 7.707106781186548), new Vec3(-2.2928932188134525, 5, 7.707106781186548),
            new Vec3(-2, 5, 7), new Vec3(-2.2928932188134525, 5.707106781186548, 7)},
          new List<Vec3> {new Vec3(-2.5, 5.5, 6.292893218813452), new Vec3(-2.2928932188134525, 5, 6.292893218813452), new Vec3(-3, 5, 6)},
          new List<Vec3> {new Vec3(-3, 5, 8), new Vec3(-2.2928932188134525, 5, 7.707106781186548), new Vec3(-2.5, 5.5, 7.707106781186548)}
        };

        Assert.AreEqual(pts.Count, 32);
        Assert.IsTrue(Helpers.CompareListOfListsNEVec3(pts, exp));
    }
}
